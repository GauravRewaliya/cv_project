  <style>
    table{
      table-layout:fixed;
    }
  </style>
  <h2>Candidate</h2>
<%= form_with(model: @candidate) do |form| %>
  <table class="table">
  <div class="field">
    <tr>
      <td><%= form.label :name %></td>
    <td><%= form.text_field :name ,class: "form-control"%></td>
  </tr>
</div>
  <div class="field">
    <tr>
      <td><%= form.label "Employee ID" %></td>
    <td><%= form.text_field :employ_id ,class: "form-control"%></td>
  </tr>
</div>
</table>

  <%= form.fields_for :profile do |profile_form| %>
    <h2>Profile</h2>
    <table class="table">
   <div class="field">
    <tr>   
      <td><%= profile_form.label :email %></td>
      <td><%= profile_form.text_field :email ,class: "form-control"%></td>
    </tr>
    </div>
    <div class="field">
      <tr>
        <td><%= profile_form.label :contact %></td>
      <td><%= profile_form.number_field :contact ,class: "form-control"%></td>
    </tr>
  </div>

   </div>
    <div class="field">
      <tr>
        <td><%= profile_form.label :address %></td>
       <td><%= profile_form.text_field :address ,class: "form-control"%></td>
    </tr>
  </div>
</div>
<div class="field">
  <tr>
    <td>
      <%= profile_form.label :gender, style: "display: block" ,class: ""%>
      </td>
   <td>
      <%= profile_form.radio_button :gender, 'Male' %> Male
      <%= profile_form.radio_button :gender, 'Female' %> Female
  </td>
</tr>
</div>
    </table>
  <% end %>

  <div class="actions">
    <%= form.submit class: "btn-primary"%>
  </div>

  <% if candidate.errors.any? %>
  <% candidate.errors.each do |error| %>
     <script>
      // inputf = $(document.getElementsByName('candidate[<%=error.attribute.to_s %>]')[0])
      inputf = document.getElementsByName('candidate[<%=error.attribute.to_s %>]')[0];
      if( inputf == null)  // profile.gender = error.attribute.to_s.split('.')[1]
      inputf = document.getElementsByName('candidate[profile_attributes][<%= error.attribute.to_s.split(".")[1] %>]')[0];
     
      if(inputf != null )
     {
      if(inputf.type=="text" || inputf.type=="number" || inputf.type == "date")
      {
      $(inputf).addClass("is-invalid")
      $("<div class='invalid-feedback'>  <%= error.full_message %> </div>").insertAfter(inputf)
      } else      //check box not properly view
      {
        alert(inputf.type+'***** <%= error.full_message.to_s %>');
      }
     }
     else
     {
      alert('(<%=error.attribute.to_s %>) <%= error.full_message.to_s %>');
     }
      </script>  
    <% end %>
  <% end %>

<% end %>
